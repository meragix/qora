---
title: IDE Extension
description: A native tab inside Flutter DevTools. Inspect the full query cache, replay the event timeline, and trigger actions directly from VS Code or IntelliJ.
---

The Qora IDE extension adds a dedicated tab to Flutter DevTools — the same panel you open with **Flutter: Open DevTools** in VS Code or via **Tools > Flutter > Open DevTools** in IntelliJ.

It communicates with your running app over the Dart VM Service, which means it works on simulators, emulators, and physical devices connected via USB.

---

## Installation

Add `qora_devtools_extension` to your regular dependencies — not dev dependencies. The package registers its VM Service extensions at startup and is stripped from release builds automatically by the Dart tree-shaker.

```yaml [pubspec.yaml]
dependencies:
  qora: ^1.0.0
  qora_devtools_extension: ^1.0.0
```

Then pass a `VmTracker` to your `QueryClient`:

```dart [main.dart]
import 'package:qora_devtools_extension/qora_devtools_extension.dart';

void main() {
  final client = QueryClient(
    tracker: kDebugMode ? VmTracker() : null,
  );

  runApp(MyApp(client: client));
}
```

::callout{type="info"}
Passing `null` for `tracker` in release mode is equivalent to using `NoOpTracker` — the default when no tracker is provided. The `VmTracker` and all its dependencies are tree-shaken out of the release build.
::

---

## Opening the extension

1. Run your app in debug mode
2. Open Flutter DevTools
   - **VS Code**: run **Flutter: Open DevTools** from the command palette
   - **IntelliJ**: **Tools → Flutter → Open DevTools**
3. Select the **Qora** tab in the DevTools tab bar

The extension connects automatically to the running isolate. No URL or port configuration needed.

---

## The panel

The extension is organized into three main tabs.

### Queries

A live list of every query tracked by the `QueryClient`. For each query you can see:

- The query key as a breadcrumb (`user › 42 › profile`)
- The current status (`success`, `loading`, `error`, `stale`)
- The last updated timestamp
- A preview of the cached data

Use the **Refetch** and **Stale** buttons to trigger actions on any query without modifying your app code.

### Mutations

The same three-column layout as the in-app overlay, with additional detail available in the IDE context.

**Column 1 — Mutations list**

All mutations with status indicators and elapsed time. Each row shows:
- Status dot (green / blue / orange)
- Breadcrumb key — `user › 42 › update`
- `⚡ Optimistic` badge when an optimistic update is pending
- `Retries: N` badge when the mutation has retried

**Column 2 — Mutation inspector**

Full detail for the selected mutation:

| Section | Content |
|---|---|
| **Status** | Current status badge |
| **Actions** | `Retry` — re-triggers the mutation on the device |
| **Variables** | Input payload, expandable |
| **Error** | Error object if the mutation failed, expandable |
| **Rollback context** | Pre-optimistic-update snapshot |
| **Metadata** | Timestamps and retry count |

Large payloads are loaded on demand — the extension fetches them in chunks from the device and reassembles them locally, so inspecting a mutation that processed thousands of records stays fast.

**Column 3 — Secondary tabs**

| Tab | Content |
|---|---|
| **Timeline** | Chronological log of all events in the session |
| **Widget Tree** | The Flutter widget subtree that triggered the mutation *(coming soon)* |
| **Data Diff** | Before / after diff of the cache entry *(coming soon)* |

### Mutation Inspector

A standalone tab that gives more horizontal space to the mutation detail when you want to inspect large payloads or long error traces without the list taking up column space.

---

## Timeline

The timeline is a flight recorder for your app's data layer. It logs every event with a precise timestamp:

| Event | Meaning |
|---|---|
| `QueryCreated` | A new query was registered with the client |
| `FetchStarted` | A network request was initiated |
| `FetchError` | A request failed, with duration |
| `MutationStarted` | A mutation was triggered |
| `MutationSuccess` | A mutation completed successfully, with duration |
| `MutationError` | A mutation failed, with duration |
| `OptimisticUpdate` | An optimistic update was applied before server confirmation |

Use the **Filter** field to narrow the log by key or event type. Use **Pause** to freeze the stream while you inspect a specific moment. Use **Clear** to reset.

---

## Sending commands from the IDE

The extension can send commands back to your running app without you touching a line of code.

| Command | Effect |
|---|---|
| **Refetch** | Re-runs the fetcher for the given query key |
| **Invalidate** | Marks the query as stale, triggering a background refetch |
| **Retry** | Re-triggers a failed mutation |

These commands are sent over Dart VM Service extensions (`ext.qora.*`) registered by `qora_devtools_extension` at app startup.

---

## How large payloads are handled

The Dart VM Service has a message size limit. When a query caches a large dataset, the extension uses a chunked transfer protocol:

1. The app pushes a lightweight event containing only metadata and a `payloadId`
2. The IDE extension detects `hasLargePayload: true` and requests the chunks one by one via `ext.qora.getPayload`
3. Each chunk is ~80 KB, base64-encoded
4. The extension reassembles the full payload locally and displays it

Chunks expire after 30 seconds on the device side to prevent memory leaks.

---

## Troubleshooting

**The Qora tab does not appear in DevTools**

Make sure `qora_devtools_extension` is in your `dependencies` (not `dev_dependencies`) and that you passed a `VmTracker` to your `QueryClient`. Restart the app after adding the dependency.

**Events are not showing up in the timeline**

Confirm the app is running in debug mode (`flutter run`, not `flutter run --release`). The `VmTracker` does not emit events in release or profile mode.

**Commands (Refetch, Retry) have no effect**

The commands are sent to the main isolate. If your app uses multiple isolates, make sure `QueryClient` lives in the main isolate.