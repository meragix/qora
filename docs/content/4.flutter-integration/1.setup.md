---
title: Setup
description: Install flutter_qora, create your QoraClient, and wrap your app with QoraScope in under five minutes.
---

## Installation

Add `flutter_qora` and `qora` to your `pubspec.yaml`:

```yaml [pubspec.yaml]
dependencies:
  qora: ^1.0.0
  flutter_qora: ^1.0.0
```

Then fetch:

```bash
flutter pub get
```

---

## Create the Client

`QoraClient` is the central cache and request orchestrator. Create **one instance per app** (or per DI scope):

```dart [main.dart]
import 'package:qora/qora.dart';

final client = QoraClient(
  config: QoraClientConfig(
    defaultOptions: QoraOptions(
      staleTime: Duration(minutes: 5),
      cacheTime: Duration(minutes: 10),
      retryCount: 3,
    ),
    debugMode: kDebugMode,
  ),
);
```

:::tip
Set `debugMode: kDebugMode` to get detailed logs in development without any performance cost in production.
:::

---

## Wrap Your App with QoraScope

`QoraScope` provides the client to every widget in its subtree via Flutter's `InheritedWidget` mechanism. Place it as close to the root as possible:

```dart [main.dart]
import 'package:flutter/material.dart';
import 'package:flutter_qora/flutter_qora.dart';

void main() {
  final client = QoraClient(
    config: const QoraClientConfig(debugMode: kDebugMode),
  );

  runApp(
    QoraScope(
      client: client,
      child: const MyApp(),
    ),
  );
}
```

Any descendant widget can now access the client via `context.qora` or `QoraScope.of(context)`.

---

## Optional: Lifecycle and Connectivity Managers

For automatic refetch-on-resume and refetch-on-reconnect behavior, pass the built-in managers to `QoraScope`:

```dart [main.dart]
void main() {
  final client = QoraClient();

  runApp(
    QoraScope(
      client: client,
      lifecycleManager: FlutterLifecycleManager(
        qoraClient: client,
        // Invalidate all queries if the app was backgrounded for more than 30 s
        refetchInterval: const Duration(seconds: 30),
      ),
      connectivityManager: FlutterConnectivityManager(
        qoraClient: client,
      ),
      child: const MyApp(),
    ),
  );
}
```

| Manager                       | Behaviour                                                                                   |
| ----------------------------- | ------------------------------------------------------------------------------------------- |
| `FlutterLifecycleManager`     | Invalidates all queries when the app resumes after a pause longer than `refetchInterval`    |
| `FlutterConnectivityManager`  | Invalidates all queries when the device regains network connectivity                        |

`QoraScope` automatically calls `start()` and `dispose()` on both managers — no manual lifecycle wiring required.

:::tip
`FlutterConnectivityManager` requires the [`connectivity_plus`](https://pub.dev/packages/connectivity_plus) package. Add it to your `pubspec.yaml` before enabling this manager.
:::

---

## Next Steps

- [QoraScope](./qora-scope.md) — Detailed API and nested scope patterns
- [QoraBuilder](./qora-builder.md) — Fetching data and rendering states in widgets
